models:
  - name: insideairbnb__stg_listings
    description: "Staging model for InsideAirbnb listings."
    columns:
      - name: listing_id
        description: "Surrogate key for the listing (city + country + listing_cid)."
        tests:
          - not_null
          - unique

      - name: listing_cid
        description: "Source listing ID from InsideAirbnb."
        tests:
          - not_null

      - name: city
        description: "City where the listing is located."
        tests:
          - not_null

      - name: country
        description: "Country where the listing is located."
        tests:
          - not_null

      - name: extract_month
        description: "YYYYMM batch month for the extract."
        tests:
          - not_null

      - name: source_last_scraped
        description: "Date when the listing was last scraped by InsideAirbnb."

      - name: source_platform
        description: "Platform/source of the listing data by InsideAirbnb."

      - name: listing_name
        description: "Listing title/name"

      - name: listing_description
        description: "Listing description"

      - name: neighbourhood_overview
        description: "Host's description of the neighbourhood."

      - name: latitude
        description: "Latitude of the listing."

      - name: longitude
        description: "Longitude of the listing."

      - name: property_type
        description: "Property type (e.g. Apartment, House, etc.)."

      - name: room_type
        description: "Room type (Entire home/apt, Private room, etc.)."

      - name: accommodates
        description: "Number of guests the listing accommodates."

      - name: bathrooms
        description: "Number of bathrooms the listing has."

      - name: bathroom_type
        description: "Bathroom type derived from text (Shared / Private)."

      - name: beds
        description: "Number of beds the listing has."

      - name: bedrooms
        description: "Number of bedrooms the listing has."

      - name: price
        description: "Nightly price, numeric value stripped of currency symbols."

      - name: has_availability
        description: "Flag indicating if listing has availability in the calendar."
        tests:
          - accepted_values:
              values: [true, false]
              quote: false

      - name: instant_bookable
        description: "Flag indicating if listing is instantly bookable."
        tests:
          - accepted_values:
              values: [true, false]
              quote: false

      - name: host_cid
        description: "Host identifier from the source."

      - name: host_name
        description: "Host name."

      - name: host_response_time
        description: "Host response time"

      - name: host_response_rate
        description: "Host response rate as numeric percentage."

      - name: host_acceptance_rate
        description: "Host acceptance rate as numeric percentage."

      - name: host_is_superhost
        description: "Flag indicating whether host is a Superhost."
        tests:
          - accepted_values:
              values: [true, false]
              quote: false

      - name: host_has_profile_pic
        description: "Flag indicating whether host has a profile picture."
        tests:
          - accepted_values:
              values: [true, false]
              quote: false

      - name: host_identity_verified
        description: "Flag indicating whether host identity is verified."
        tests:
          - accepted_values:
              values: [true, false]
              quote: false

      - name: overall_rating
        description: "Overall review score rating for the listing."

      - name: accuracy_rating
        description: "Accuracy review score rating for the listing."

      - name: cleanliness_rating
        description: "Cleanliness review score rating for the listing."

      - name: checkin_rating
        description: "Check-in review score rating for the listing."

      - name: communication_rating
        description: "Communication review score rating for the listing."

      - name: location_rating
        description: "Location review score rating for the listing."

      - name: value_rating
        description: "Value review score rating for the listing."

      - name: license
        description: "License information with default when missing."

      - name: number_of_reviews
        description: "Total number of reviews for the listing."

      - name: number_of_reviews_ltm
        description: "Number of reviews in the last 12 months."

      - name: number_of_reviews_l30d
        description: "Number of reviews in the last 30 days."

      - name: estimated_occupancy_l365d
        description: "Estimated occupancy over the last 365 days."

      - name: estimated_revenue_l365d
        description: "Estimated revenue over the last 365 days."

      - name: first_review
        description: "Date of the first review for the listing."

      - name: last_review
        description: "Date of the most recent review for the listing."

      - name: reviews_per_month
        description: "Average number of reviews per month."

      - name: listing_neighbourhood
        description: "Neighbourhood of the listing."

      - name: listing_neighbourhood_cleansed
        description: "Cleansed neighbourhood value."

      - name: neighbourhood_group_cleansed
        description: "Cleansed high-level neighbourhood group."

      - name: calculated_host_listings_count
        description: "Calculated count of all listings for the host."

      - name: calculated_host_listings_count_entire_homes
        description: "Calculated count of host's entire-home listings."

      - name: calculated_host_listings_count_private_rooms
        description: "Calculated count of host's private-room listings."

      - name: calculated_host_listings_count_shared_rooms
        description: "Calculated count of host's shared-room listings."

  - name: insideairbnb__stg_reviews
    description: "Staging model for InsideAirbnb reviews."
    columns:
      - name: review_id
        description: "Surrogate key for the review (listing + review + date + geography)."
        tests:
          - not_null
          - unique

      - name: listing_cid
        description: "Source listing identifier this review belongs to."
        tests:
          - not_null

      - name: review_cid
        description: "Source review identifier."
        tests:
          - not_null

      - name: review_date
        description: "Date of the review."
        tests:
          - not_null

      - name: reviewer_id
        description: "Identifier for the reviewer."

      - name: reviewer_name
        description: "Name of the reviewer."

      - name: comments
        description: "Text of the review comment."

      - name: city
        description: "City for the reviewed listing."
        tests:
          - not_null

      - name: country
        description: "Country for the reviewed listing."
        tests:
          - not_null

      - name: extract_month
        description: "YYYYMM batch month for the extract."
        tests:
          - not_null

  - name: insideairbnb__stg_calendar
    description: "Staging model for InsideAirbnb daily calendar/pricing and availability."
    columns:
      - name: calendar_id
        description: "Surrogate key for calendar row (listing + date + geography)."
        tests:
          - not_null
          - unique

      - name: listing_cid
        description: "Source listing identifier this calendar row belongs to."
        tests:
          - not_null

      - name: calendar_date
        description: "Calendar date for the availability and price."
        tests:
          - not_null

      - name: is_available
        description: "Flag indicating whether the listing is available on this date."
        tests:
          - not_null
          - accepted_values:
              values: [true, false]
              quote: false

      - name: price
        description: "Base price for this date, numeric value stripped of currency symbols."

      - name: adjusted_price
        description: "Adjusted price for this date."

      - name: minimum_nights
        description: "Minimum nights allowed for a booking on this date."

      - name: maximum_nights
        description: "Maximum nights allowed for a booking on this date."

      - name: city
        description: "City in which the listing is located."
        tests:
          - not_null

      - name: country
        description: "Country in which the listing is located."
        tests:
          - not_null

      - name: extract_month
        description: "YYYYMM batch month for the extract."
        tests:
          - not_null

  - name: googletrends__stg_trends
    description: "Staging model for Google Trends travel/interest signals by city and country."
    columns:
      - name: trend_id
        description: "Surrogate key for trends row (date + geography)."
        tests:
          - not_null
          - unique

      - name: trend_date
        description: "Date of the trend measurement."
        tests:
          - not_null

      - name: visit_city
        description: "Interest index for 'visit <city>' query (0-100)."

      - name: things_to_do_in_city
        description: "Interest index for 'things to do in <city>' query (0-100)."

      - name: city_airbnb
        description: "Interest index for '<city> airbnb' query (0-100)."

      - name: is_partial
        description: "Flag indicating whether the time series value is partial for the given date."
        tests:
          - accepted_values:
              values: [true, false]
              quote: false

      - name: city
        description: "City for which the trend data is measured."
        tests:
          - not_null

      - name: country
        description: "Country for which the trend data is measured."
        tests:
          - not_null

      - name: extract_month
        description: "YYYYMM batch month for the extract."
        tests:
          - not_null

  - name: openmeteo__stg_weather
    description: "Staging model for Open-Meteo daily weather data by city and country."
    columns:
      - name: weather_id
        description: "Surrogate key for weather row (date + geography)."
        tests:
          - not_null
          - unique

      - name: weather_date
        description: "Date of the daily weather observation."
        tests:
          - not_null

      - name: temperature_2m_max
        description: "Daily maximum temperature at 2m height (Celsius)."

      - name: temperature_2m_min
        description: "Daily minimum temperature at 2m height (Celsius)."

      - name: temperature_2m_mean
        description: "Daily mean temperature at 2m height (Celsius)."

      - name: precipitation_sum
        description: "Total daily precipitation (mm)."

      - name: city
        description: "City for which the weather data is measured."
        tests:
          - not_null

      - name: country
        description: "Country for which the weather data is measured."
        tests:
          - not_null

      - name: extract_month
        description: "YYYYMM batch month for the extract."
        tests:
          - not_null

  - name: seed__stg_holidays
    description: "Staging model for global public holiday data sourced from Azure Public Holidays seed."
    columns:
      - name: holiday_id
        description: "Surrogate key for holiday (country + date + name)."
        tests:
          - not_null
          - unique

      - name: country
        description: "Country or region where the holiday applies."
        tests:
          - not_null

      - name: holiday_date
        description: "Date of the holiday."
        tests:
          - not_null

      - name: holiday_name
        description: "Official name of the holiday."

      - name: normalized_holiday_name
        description: "Normalized version of the holiday name for consistent grouping."

      - name: is_paid_time_off
        description: "Whether the holiday is considered paid time off."
        tests:
          - accepted_values:
              values: [true, false, NULL]
              quote: false

      - name: country_code
        description: "Two-letter or country code associated with the holiday."

  - name: seed__stg_currencies
    description: "Staging model for country-to-currency lookup data."
    columns:
      - name: currency_id
        description: "Surrogate key for the currency record (country + currency_code)."
        tests:
          - not_null
          - unique

      - name: country
        description: "Country name."
        tests:
          - not_null

      - name: currency_code
        description: "Three letter currency code."
        tests:
          - not_null

      - name: currency_name
        description: "Name of the currency."

